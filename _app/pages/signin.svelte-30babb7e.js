import{S as ne,i as le,s as fe,t as L,g as P,f as c,M as F,d as m,L as W,R as $e,e as N,k as I,j as v,c as R,a as j,n as M,m as w,b as V,H as q,o as d,x as k,u as S,P as ue,v as C,A as ae,U as oe,V as X,W as ie,h as U,X as H,Q as pe,Y,Z,l as G,_ as B,$ as z,a0 as J,a1 as K,a2 as O,N as y}from"../chunks/vendor-801df107.js";import{u as D}from"../chunks/users-6aef1d13.js";import{g as me,s as _e}from"../chunks/utils-8b76e306.js";import{b as Q}from"../chunks/paths-28a87002.js";function x($,t,r){const s=$.slice();return s[12]=t[r],s}function ee($){let t,r=$[12].username+"",s,n,l=$[12].password+"",i,u;return{c(){t=L("["),s=L(r),n=L("/"),i=L(l),u=L("]")},l(e){t=P(e,"["),s=P(e,r),n=P(e,"/"),i=P(e,l),u=P(e,"]")},m(e,a){c(e,t,a),c(e,s,a),c(e,n,a),c(e,i,a),c(e,u,a)},p:F,d(e){e&&m(t),e&&m(s),e&&m(n),e&&m(i),e&&m(u)}}}function ce($){let t,r,s;return{c(){t=L("No account yet? Register one "),r=N("a"),s=L("here"),this.h()},l(n){t=P(n,"No account yet? Register one "),r=R(n,"A",{href:!0});var l=j(r);s=P(l,"here"),l.forEach(m),this.h()},h(){V(r,"href",""+(Q+"/signup"))},m(n,l){c(n,t,l),c(n,r,l),q(r,s)},p:F,d(n){n&&m(t),n&&m(r)}}}function te($){let t,r;return{c(){t=N("small"),r=L($[0]),this.h()},l(s){t=R(s,"SMALL",{class:!0});var n=j(t);r=P(n,$[0]),n.forEach(m),this.h()},h(){V(t,"class","form-error")},m(s,n){c(s,t,n),q(t,r)},p(s,n){n&1&&U(r,s[0])},d(s){s&&m(t)}}}function ge($){let t;return{c(){t=L("Username")},l(r){t=P(r,"Username")},m(r,s){c(r,t,s)},d(r){r&&m(t)}}}function be($){let t,r;return t=new y({props:{name:"person"}}),{c(){v(t.$$.fragment)},l(s){w(t.$$.fragment,s)},m(s,n){d(t,s,n),r=!0},p:F,i(s){r||(k(t.$$.fragment,s),r=!0)},o(s){S(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function he($){let t,r,s,n,l;t=new z({props:{$$slots:{default:[be]},$$scope:{ctx:$}}});function i(e){$[7](e)}let u={id:"user"};return $[1].user!==void 0&&(u.value=$[1].user),s=new B({props:u}),J.push(()=>K(s,"value",i)),s.$on("change",$[5]),s.$on("blur",$[5]),{c(){v(t.$$.fragment),r=I(),v(s.$$.fragment)},l(e){w(t.$$.fragment,e),r=M(e),w(s.$$.fragment,e)},m(e,a){d(t,e,a),c(e,r,a),d(s,e,a),l=!0},p(e,a){const _={};a&32768&&(_.$$scope={dirty:a,ctx:e}),t.$set(_);const f={};!n&&a&2&&(n=!0,f.value=e[1].user,O(()=>n=!1)),s.$set(f)},i(e){l||(k(t.$$.fragment,e),k(s.$$.fragment,e),l=!0)},o(e){S(t.$$.fragment,e),S(s.$$.fragment,e),l=!1},d(e){C(t,e),e&&m(r),C(s,e)}}}function se($){let t,r=$[2].user+"",s;return{c(){t=N("small"),s=L(r),this.h()},l(n){t=R(n,"SMALL",{class:!0});var l=j(t);s=P(l,r),l.forEach(m),this.h()},h(){V(t,"class","form-error")},m(n,l){c(n,t,l),q(t,s)},p(n,l){l&4&&r!==(r=n[2].user+"")&&U(s,r)},d(n){n&&m(t)}}}function ve($){let t,r,s,n,l,i;t=new Y({props:{for:"user",$$slots:{default:[ge]},$$scope:{ctx:$}}}),s=new Z({props:{$$slots:{default:[he]},$$scope:{ctx:$}}});let u=$[2].user&&se($);return{c(){v(t.$$.fragment),r=I(),v(s.$$.fragment),n=I(),u&&u.c(),l=G()},l(e){w(t.$$.fragment,e),r=M(e),w(s.$$.fragment,e),n=M(e),u&&u.l(e),l=G()},m(e,a){d(t,e,a),c(e,r,a),d(s,e,a),c(e,n,a),u&&u.m(e,a),c(e,l,a),i=!0},p(e,a){const _={};a&32768&&(_.$$scope={dirty:a,ctx:e}),t.$set(_);const f={};a&32770&&(f.$$scope={dirty:a,ctx:e}),s.$set(f),e[2].user?u?u.p(e,a):(u=se(e),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(e){i||(k(t.$$.fragment,e),k(s.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),S(s.$$.fragment,e),i=!1},d(e){C(t,e),e&&m(r),C(s,e),e&&m(n),u&&u.d(e),e&&m(l)}}}function we($){let t;return{c(){t=L("Password")},l(r){t=P(r,"Password")},m(r,s){c(r,t,s)},d(r){r&&m(t)}}}function de($){let t,r;return t=new y({props:{name:"key"}}),{c(){v(t.$$.fragment)},l(s){w(t.$$.fragment,s)},m(s,n){d(t,s,n),r=!0},p:F,i(s){r||(k(t.$$.fragment,s),r=!0)},o(s){S(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function ke($){let t,r,s,n,l;t=new z({props:{$$slots:{default:[de]},$$scope:{ctx:$}}});function i(e){$[8](e)}let u={id:"pass",type:"password"};return $[1].pass!==void 0&&(u.value=$[1].pass),s=new B({props:u}),J.push(()=>K(s,"value",i)),s.$on("change",$[5]),s.$on("blur",$[5]),{c(){v(t.$$.fragment),r=I(),v(s.$$.fragment)},l(e){w(t.$$.fragment,e),r=M(e),w(s.$$.fragment,e)},m(e,a){d(t,e,a),c(e,r,a),d(s,e,a),l=!0},p(e,a){const _={};a&32768&&(_.$$scope={dirty:a,ctx:e}),t.$set(_);const f={};!n&&a&2&&(n=!0,f.value=e[1].pass,O(()=>n=!1)),s.$set(f)},i(e){l||(k(t.$$.fragment,e),k(s.$$.fragment,e),l=!0)},o(e){S(t.$$.fragment,e),S(s.$$.fragment,e),l=!1},d(e){C(t,e),e&&m(r),C(s,e)}}}function re($){let t,r=$[2].pass+"",s;return{c(){t=N("small"),s=L(r),this.h()},l(n){t=R(n,"SMALL",{class:!0});var l=j(t);s=P(l,r),l.forEach(m),this.h()},h(){V(t,"class","form-error")},m(n,l){c(n,t,l),q(t,s)},p(n,l){l&4&&r!==(r=n[2].pass+"")&&U(s,r)},d(n){n&&m(t)}}}function Se($){let t,r,s,n,l,i;t=new Y({props:{for:"pass",$$slots:{default:[we]},$$scope:{ctx:$}}}),s=new Z({props:{$$slots:{default:[ke]},$$scope:{ctx:$}}});let u=$[2].pass&&re($);return{c(){v(t.$$.fragment),r=I(),v(s.$$.fragment),n=I(),u&&u.c(),l=G()},l(e){w(t.$$.fragment,e),r=M(e),w(s.$$.fragment,e),n=M(e),u&&u.l(e),l=G()},m(e,a){d(t,e,a),c(e,r,a),d(s,e,a),c(e,n,a),u&&u.m(e,a),c(e,l,a),i=!0},p(e,a){const _={};a&32768&&(_.$$scope={dirty:a,ctx:e}),t.$set(_);const f={};a&32770&&(f.$$scope={dirty:a,ctx:e}),s.$set(f),e[2].pass?u?u.p(e,a):(u=re(e),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(e){i||(k(t.$$.fragment,e),k(s.$$.fragment,e),i=!0)},o(e){S(t.$$.fragment,e),S(s.$$.fragment,e),i=!1},d(e){C(t,e),e&&m(r),C(s,e),e&&m(n),u&&u.d(e),e&&m(l)}}}function Ce($){let t,r;return t=new B({props:{id:"remember",type:"checkbox",label:"Remember me"}}),{c(){v(t.$$.fragment)},l(s){w(t.$$.fragment,s)},m(s,n){d(t,s,n),r=!0},p:F,i(s){r||(k(t.$$.fragment,s),r=!0)},o(s){S(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function Ee($){let t;return{c(){t=L("Sign in")},l(r){t=P(r,"Sign in")},m(r,s){c(r,t,s)},d(r){r&&m(t)}}}function Le($){let t,r,s,n,l,i,u,e,a,_=$[0]&&te($);return r=new H({props:{$$slots:{default:[ve]},$$scope:{ctx:$}}}),n=new H({props:{$$slots:{default:[Se]},$$scope:{ctx:$}}}),i=new H({props:{$$slots:{default:[Ce]},$$scope:{ctx:$}}}),e=new pe({props:{color:"primary",$$slots:{default:[Ee]},$$scope:{ctx:$}}}),{c(){_&&_.c(),t=I(),v(r.$$.fragment),s=I(),v(n.$$.fragment),l=I(),v(i.$$.fragment),u=I(),v(e.$$.fragment)},l(f){_&&_.l(f),t=M(f),w(r.$$.fragment,f),s=M(f),w(n.$$.fragment,f),l=M(f),w(i.$$.fragment,f),u=M(f),w(e.$$.fragment,f)},m(f,g){_&&_.m(f,g),c(f,t,g),d(r,f,g),c(f,s,g),d(n,f,g),c(f,l,g),d(i,f,g),c(f,u,g),d(e,f,g),a=!0},p(f,g){f[0]?_?_.p(f,g):(_=te(f),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null);const b={};g&32774&&(b.$$scope={dirty:g,ctx:f}),r.$set(b);const o={};g&32774&&(o.$$scope={dirty:g,ctx:f}),n.$set(o);const p={};g&32768&&(p.$$scope={dirty:g,ctx:f}),i.$set(p);const h={};g&32768&&(h.$$scope={dirty:g,ctx:f}),e.$set(h)},i(f){a||(k(r.$$.fragment,f),k(n.$$.fragment,f),k(i.$$.fragment,f),k(e.$$.fragment,f),a=!0)},o(f){S(r.$$.fragment,f),S(n.$$.fragment,f),S(i.$$.fragment,f),S(e.$$.fragment,f),a=!1},d(f){_&&_.d(f),f&&m(t),C(r,f),f&&m(s),C(n,f),f&&m(l),C(i,f),f&&m(u),C(e,f)}}}function Pe($){let t,r,s;return r=new ie({props:{$$slots:{default:[Le]},$$scope:{ctx:$}}}),r.$on("submit",$[6]),{c(){t=N("div"),v(r.$$.fragment),this.h()},l(n){t=R(n,"DIV",{class:!0});var l=j(t);w(r.$$.fragment,l),l.forEach(m),this.h()},h(){V(t,"class","form-container svelte-a9gn9e")},m(n,l){c(n,t,l),d(r,t,null),s=!0},p(n,l){const i={};l&32775&&(i.$$scope={dirty:l,ctx:n}),r.$set(i)},i(n){s||(k(r.$$.fragment,n),s=!0)},o(n){S(r.$$.fragment,n),s=!1},d(n){n&&m(t),C(r)}}}function Ie($){let t,r;return t=new W({props:{lg:"4",$$slots:{default:[Pe]},$$scope:{ctx:$}}}),{c(){v(t.$$.fragment)},l(s){w(t.$$.fragment,s)},m(s,n){d(t,s,n),r=!0},p(s,n){const l={};n&32775&&(l.$$scope={dirty:n,ctx:s}),t.$set(l)},i(s){r||(k(t.$$.fragment,s),r=!0)},o(s){S(t.$$.fragment,s),r=!1},d(s){C(t,s)}}}function Me($){let t,r,s,n,l,i,u,e,a,_,f,g=D,b=[];for(let o=0;o<g.length;o+=1)b[o]=ee(x($,g,o));return e=new W({props:{$$slots:{default:[ce]},$$scope:{ctx:$}}}),_=new $e({props:{$$slots:{default:[Ie]},$$scope:{ctx:$}}}),{c(){t=N("h1"),r=L("Sign in"),s=I(),n=N("p"),l=L(`Valid credentials:
	`);for(let o=0;o<b.length;o+=1)b[o].c();i=I(),u=N("p"),v(e.$$.fragment),a=I(),v(_.$$.fragment),this.h()},l(o){t=R(o,"H1",{});var p=j(t);r=P(p,"Sign in"),p.forEach(m),s=M(o),n=R(o,"P",{class:!0});var h=j(n);l=P(h,`Valid credentials:
	`);for(let E=0;E<b.length;E+=1)b[E].l(h);h.forEach(m),i=M(o),u=R(o,"P",{});var A=j(u);w(e.$$.fragment,A),A.forEach(m),a=M(o),w(_.$$.fragment,o),this.h()},h(){V(n,"class","page-description")},m(o,p){c(o,t,p),q(t,r),c(o,s,p),c(o,n,p),q(n,l);for(let h=0;h<b.length;h+=1)b[h].m(n,null);c(o,i,p),c(o,u,p),d(e,u,null),c(o,a,p),d(_,o,p),f=!0},p(o,[p]){if(p&0){g=D;let E;for(E=0;E<g.length;E+=1){const T=x(o,g,E);b[E]?b[E].p(T,p):(b[E]=ee(T),b[E].c(),b[E].m(n,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=g.length}const h={};p&32768&&(h.$$scope={dirty:p,ctx:o}),e.$set(h);const A={};p&32775&&(A.$$scope={dirty:p,ctx:o}),_.$set(A)},i(o){f||(k(e.$$.fragment,o),k(_.$$.fragment,o),f=!0)},o(o){S(e.$$.fragment,o),S(_.$$.fragment,o),f=!1},d(o){o&&m(t),o&&m(s),o&&m(n),ue(b,o),o&&m(i),o&&m(u),C(e),o&&m(a),C(_,o)}}}function Ne($,t,r){let s,n;ae(()=>{me("auth")&&(location.pathname=`${Q}/`)});let l;const{form:i,errors:u,state:e,handleChange:a,handleSubmit:_,handleReset:f}=oe({initialValues:{user:"",pass:""},validate:p=>{let h={};return r(0,l=""),p.user===""&&(h.user="Please enter your username"),p.pass===""&&(h.pass="Please enter your password"),h},onSubmit:p=>{g(p)?(_e("auth",p.user,2),location.pathname=`${Q}/`):(f(),r(0,l="Invalid username or password!"))}});X($,i,p=>r(1,s=p)),X($,u,p=>r(2,n=p));function g(p){const h=D.filter(A=>A.username===p.user)[0];return h&&h.password===p.pass}function b(p){$.$$.not_equal(s.user,p)&&(s.user=p,i.set(s))}function o(p){$.$$.not_equal(s.pass,p)&&(s.pass=p,i.set(s))}return[l,s,n,i,u,a,_,b,o]}class qe extends ne{constructor(t){super();le(this,t,Ne,Me,fe,{})}}export{qe as default};
